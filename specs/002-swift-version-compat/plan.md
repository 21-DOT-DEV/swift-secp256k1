# Implementation Plan: Swift Version Compatibility Table

**Branch**: `002-swift-version-compat` | **Date**: 2025-12-13 | **Spec**: [spec.md](spec.md)
**Input**: Feature specification from `/specs/002-swift-version-compat/spec.md`

## Summary

Add a "Swift versions" compatibility table to README.md (matching swift-crypto format) and create a GitHub Actions workflow that automatically tests new releases against Swift 5.7–6.0, opening PRs to update the table when compatibility changes.

**Approach**:
1. Bootstrap: Run local script once to gather historical compatibility data for all 48 releases
2. Document: Add Swift versions section to README.md with grouped ranges
3. Automate: Create GitHub Actions workflow triggered on release tags
4. Delete: Remove bootstrap script after initial data collection

## Technical Context

**Language/Version**: Bash (bootstrap script), YAML (GitHub Actions)  
**Primary Dependencies**: swiftly (local), GitHub Actions runners (CI)  
**Storage**: N/A (README.md only)  
**Testing**: Manual verification of workflow, build success/failure as compatibility test  
**Target Platform**: GitHub Actions runners (ubuntu-latest with Swift toolchains)  
**Project Type**: CI/Documentation (not application code)  
**Performance Goals**: CI workflow completes within 30 minutes per release  
**Constraints**: Use built-in GITHUB_TOKEN, follow existing workflow patterns  
**Scale/Scope**: 48 historical releases, ongoing for future releases

## Constitution Check

*GATE: Must pass before Phase 0 research. Re-check after Phase 1 design.*

| Principle | Status | Notes |
|-----------|--------|-------|
| I. Scope & Bitcoin Standards | ✅ Pass | Documentation/tooling, not cryptographic code |
| II. Cryptographic Correctness | ✅ N/A | No cryptographic code changes |
| III. Key & Secret Handling | ✅ N/A | No secrets involved (uses GITHUB_TOKEN) |
| IV. API Design & Safety | ✅ N/A | No API changes |
| V. Spec-First & Test-Driven | ✅ Pass | Spec created before implementation |
| VI. Cross-Platform CI | ✅ Pass | Tests across Swift versions, follows CI patterns |
| VII. Open Source Excellence | ✅ Pass | Improves documentation for users |

**Gate Result**: PASS - No violations, feature aligns with constitution.

## Project Structure

### Documentation (this feature)

```text
specs/002-swift-version-compat/
├── plan.md              # This file
├── research.md          # GitHub Actions patterns research
├── workflow-schema.md   # Workflow design (replaces data-model.md)
├── quickstart.md        # How to run and maintain
├── checklists/          # Validation checklists
│   └── requirements.md
└── tasks.md             # Generated by /speckit.tasks
```

### Source Code (repository root)

```text
# Files created/modified by this feature
README.md                              # Add Swift versions section after Installation
.github/workflows/
├── docker-image.yml                   # Existing (unchanged)
├── xcframework-release.yml            # Existing (unchanged)
└── swift-version-compat.yml           # NEW: Compatibility testing workflow

# Temporary (deleted after bootstrap)
scripts/
└── swift-version-compat.sh            # Bootstrap script (delete after use)
swift-compat-results.csv               # Bootstrap output (delete after use)
```

**Structure Decision**: CI/Documentation feature using GitHub Actions workflow. No application source code changes. Bootstrap script is temporary tooling deleted after initial data collection.

## Complexity Tracking

No violations to justify - feature is straightforward CI/documentation work.
